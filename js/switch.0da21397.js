(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["switch"],{"87be":function(e,t,a){"use strict";a("c42b")},c42b:function(e,t,a){},f4fa:function(e,t,a){"use strict";a.r(t);var n=a("7a23");const c={class:"switch"};function r(e,t,a,r,s,o){const l=Object(n["z"])("Menu");return Object(n["s"])(),Object(n["f"])("div",c,[Object(n["i"])(l,{panel_fmid:e.data.panel_fmid,url_pathTop:e.data.url_pathTop},null,8,["panel_fmid","url_pathTop"])])}const s=e=>(Object(n["v"])("data-v-1c4d59ea"),e=e(),Object(n["t"])(),e),o={key:0,class:"menu"},l={id:"app"},b={class:"list"},i=["onClick"],d={key:0},O=["href","label"],_={key:1,class:"error"},p={key:0},u=s(()=>Object(n["g"])("br",null,null,-1));function j(e,t,a,c,r,s){return Object(n["s"])(),Object(n["f"])(n["a"],null,[e.data.panel_name?(Object(n["s"])(),Object(n["f"])("div",o,[Object(n["g"])("h1",null,Object(n["B"])(e.data.panel_name),1),Object(n["g"])("div",l,[Object(n["g"])("ul",b,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(e.data.treedata,t=>(Object(n["s"])(),Object(n["f"])("li",{key:t.id,class:"list-item"},[Object(n["g"])("a",{class:Object(n["o"])({active:e.data.active===t}),onClick:a=>e.dropdown(t.sw_name)},Object(n["B"])(t.sw_name),11,i),e.data.active===t.sw_name?(Object(n["s"])(),Object(n["f"])("ul",d,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.bottom_objs,e=>(Object(n["s"])(),Object(n["f"])("li",{key:e.id,class:"sublist-item"},[Object(n["g"])("a",{href:e.obj_url,label:e.obj_name},Object(n["B"])(e.obj_name),9,O)]))),128))])):Object(n["e"])("",!0)]))),128))])])])):Object(n["e"])("",!0),e.data.error.title?(Object(n["s"])(),Object(n["f"])("div",_,[e.data.error.title?(Object(n["s"])(),Object(n["f"])("h1",p,Object(n["B"])(e.data.error.title),1)):Object(n["e"])("",!0),(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(e.data.error.message,e=>(Object(n["s"])(),Object(n["f"])("div",{style:{"text-align":"left"},key:e},[Object(n["h"])(Object(n["B"])(e),1),u]))),128))])):Object(n["e"])("",!0)],64)}a("14d9");var f=a("cee4"),h=a("34d4");async function m(e){try{const t=h.sparqlUrl,a=`\n            PREFIX brick: <https://brickschema.org/schema/Brick#>\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    \n            select distinct ?PANEL_NM, ?SW_LBL, ?ENDOBJ_NM, ?ENDOBJ_SCAN where{\n            #電灯盤取得\n            ?PANEL <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_c91c8dae_12f9_45ab_ac9e_35a81e8c9dc3> "${e}"@ja. #FMID：検索キー\n            ?PANEL rdfs:label ?PANEL_NM.\n    \n            #電灯盤SW取得\n            ?PANEL brick:hasPart ?SW.\n            ?SW rdfs:label ?SW_NM.\n            ?SW <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_d7843f2a_8710_4d42_bbe7_20f29037fd8e> ?SW_MEMO. #※備考\n            ?SW <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_7dce3876_b400_4a5a_a6d4_e37c5f2f2a1d> ?SW_LBL. #★ラベル：水色ボタンに表示\n    \n            #回路取得\n            ?SW brick:feeds ?CIRC.\n            ?CIRC rdfs:label ?CIRC_NM.\n    \n            #末端オブジェクト取得\n            ?CIRC brick:feeds ?ENDOBJ.\n            ?ENDOBJ rdfs:label ?ENDOBJ_NM. #末端オブジェクト名称：白ボタンに表示\n            ?ENDOBJ <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_cbdc3161_268f_4b71_8f71_5727436a50ba> ?ENDOBJ_SCAN. #3DスキャンURL：白ボタンにリンク埋め込み\n            }\n        `,n=t+"?query="+encodeURIComponent(a),c=await f["a"].get(n),r={};let s="";return c.data.results.bindings.forEach(e=>{s||(s=e["PANEL_NM"]["value"]),e["SW_LBL"]["value"]in r||(r[e["SW_LBL"]["value"]]=[]),r[e["SW_LBL"]["value"]].push({ENDOBJ_NM:e["ENDOBJ_NM"]["value"],ENDOBJ_SCAN:e["ENDOBJ_SCAN"]["value"]})}),[s,r,""]}catch(t){return["Error",{},t]}}var w=Object(n["j"])({name:"Menu",props:{panel_fmid:String,url_pathTop:String},setup(e){const t=Object(n["w"])({panel_name:"",treedata:[{}],active:"",error:{title:"",message:[]}});function a(e){t.active=t.active===e?"":e}return m(e.panel_fmid).then(([a,n,c])=>{if(a&&"Error"!==a){t.panel_name=a;const e=[];Object.keys(n).forEach(t=>{const a=[];n[t].forEach(e=>{a.push({obj_name:e["ENDOBJ_NM"],obj_url:e["ENDOBJ_SCAN"]})}),e.push({sw_name:t,bottom_objs:a})}),t.treedata=e}else a?(t.error.title=h.dataException.title,h.dataException.message.forEach(e=>{t.error.message.push(e)}),t.error.message.push("・エラーコード：E002"),t.error.message.push("・URLパラメータ1："+e.url_pathTop),t.error.message.push("・FMID："+e.panel_fmid),t.error.message.push("・内容："+c)):(t.error.title=h.notFound.title,h.notFound.message.forEach(e=>{t.error.message.push(e)}),t.error.message.push("・エラーコード：E001"),t.error.message.push("・URLパラメータ1："+e.url_pathTop),t.error.message.push("・FMID："+e.panel_fmid))}),{data:t,dropdown:a}}}),g=(a("87be"),a("6b0d")),E=a.n(g);const N=E()(w,[["render",j],["__scopeId","data-v-1c4d59ea"]]);var v=N,y=a("6605"),B=Object(n["j"])({name:"Switch",components:{Menu:v},setup(){const e=Object(n["w"])({panel_fmid:"",url_pathTop:""}),t=Object(y["c"])();return e.panel_fmid=t.params.fmid,e.url_pathTop="switch",{data:e}}});const L=E()(B,[["render",r]]);t["default"]=L}}]);
//# sourceMappingURL=switch.0da21397.js.map